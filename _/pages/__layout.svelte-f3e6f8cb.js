import{D as e,E as t,F as a,G as n,S as o,i as l,s,e as i,k as c,c as r,a as d,d as u,n as f,b as m,f as h,H as w,I as p,J as y,K as v,L as g,A as b,M as k,N as $,l as E,j as I,t as x,O as T,m as S,g as A,o as N,P as O,h as P,x as j,u as L,v as R}from"../chunks/vendor-c28478b8.js";import{b as U}from"../chunks/paths-45dac81d.js";async function B(e){return new Promise((t=>{let a=document.createElement("script");a.src=e,a.addEventListener("load",t),document.head.append(a)}))}let _=!1;async function F(){_||(await Promise.all(["/jszip.min.js","/jszip-utils.min.js"].map(B)),_=!0);let e=new JSZip;const t=(await(await window.fetch("./_/sourcemap.js.map")).json()).sources;let a=[];for await(let n of t){const t=n.replace(/^\.\.\//,`${U}/`),o=!!n.startsWith("../")&&n.replace(/^\.\.\//,"");o&&a.push((async()=>{e.file(o,await JSZipUtils.getBinaryContent(t))})())}await Promise.all(a),function(e,t){let a=document.createElement("a");a.download=t,a.href=URL.createObjectURL(e),a.click(),URL.revokeObjectURL(a.href)}(await e.generateAsync({type:"blob"}),`${location.host} - ${U.split("/").pop()}.zip`)}function C(e){const t=(()=>{switch(e){case 0:return"black";case 1:return"dark";case 2:return"light"}})();document.documentElement.style.colorScheme="light"===t?"light":"dark";for(const a of["bg","fg","hover","active"])document.documentElement.style.setProperty(`--scrollbar-${a}`,` var(--scrollbar-${a}-${t})`)}const J={store(){window.setTimeout((()=>{var e,t,a;const n=+(null==(a=null==(t=null==(e=document.querySelector("input[type=radio][name=theme-toggle]:checked"))?void 0:e.id)?void 0:t.match(/\d/))?void 0:a[0]);localStorage.setItem("colorTheme",JSON.stringify(n)),C(n)}))},setInitial(){var e,t;const a=null!=(e=JSON.parse(localStorage.getItem("colorTheme")))?e:1;null==(t=document.querySelector(`input[type=radio][name=theme-toggle]#theme-${a}`))||t.click(),C(a),function e(t){t<=0?document.body.classList.remove("no-transition"):window.requestAnimationFrame((()=>e(t-1)))}(5)}},M=new class{constructor(){this.ref=e,this.onValue=t}async init(){this.app=a(await(await window.fetch("/__/firebase/init.json")).json()),this.database=n(this.app)}};let W;function q(e){window.postMessage({msg:"installedStatusChange",isInstalled:e})}function z(){function e(){return"complete"===document.readyState&&(window.setTimeout((()=>location.reload()),100),!0)}e()||document.addEventListener("readystatechange",(()=>{e()}))}const D={async clearCacheAndReload(){var e,t,a,n;try{await(null==(n=null==(a=await(null==(t=null==(e=navigator.serviceWorker)?void 0:e.getRegistration)?void 0:t.call(e)))?void 0:a.unregister)?void 0:n.call(a))}catch{}await fetch(`/clear-site-data/?random=${Math.floor(1e10*Math.random())}`);for await(let o of await window.caches.keys())await window.caches.delete(o);localStorage.setItem("afterReload","reloadAgain"),z()},async installAppOrDownload(){(null==W?void 0:W.prompt)?W.prompt():(window.localStorage.setItem("afterReload","downloadFiles"),window.setTimeout((()=>location.reload())))},async preparePwa(){switch(localStorage.getItem("afterReload")){case"downloadFiles":localStorage.removeItem("afterReload"),await async function(){const e=await(async()=>{let e=await(await window.fetch("./_/filestocache.json")).json();return e=e.map((e=>new URL(e,`${location.origin}${U}/`).href)),e})(),t=await(async()=>{let e=[];for await(const t of await window.caches.keys())e=[...e,...(await(await window.caches.open(t)).keys()).map((({url:e})=>e))];return e})(),a=e.filter((e=>!t.includes(e))).map((e=>window.fetch(e)));await Promise.all(a)}();break;case"reloadAgain":JSON.parse(localStorage.getItem("isInstalled"))?localStorage.setItem("afterReload","downloadFiles"):localStorage.setItem("afterReload","reloadThirdTime"),z();break;case"reloadThirdTime":localStorage.removeItem("afterReload"),z()}window.addEventListener("beforeinstallprompt",(async e=>{e.preventDefault(),q(!1),localStorage.removeItem("isInstalled"),W=e})),window.addEventListener("appinstalled",(async e=>{q(!0),window.localStorage.setItem("afterReload","downloadFiles"),localStorage.setItem("isInstalled",JSON.stringify(!0)),window.setTimeout((()=>location.reload()))}))}};function Z(e){let t,a,n,o,l,s,b,$,E,I,x,T,S,A,N,O,P,j,L,R,U,B,_,C,M,W,q;return{c(){t=i("nav"),a=i("section"),n=i("button"),o=c(),l=i("button"),s=c(),b=i("button"),$=c(),E=i("button"),I=c(),x=i("button"),T=i("label"),S=c(),A=i("label"),N=c(),O=i("label"),P=c(),j=i("button"),R=c(),U=i("button"),this.h()},l(e){t=r(e,"NAV",{class:!0});var i=d(t);a=r(i,"SECTION",{class:!0});var c=d(a);n=r(c,"BUTTON",{title:!0,class:!0}),d(n).forEach(u),o=f(c),l=r(c,"BUTTON",{title:!0,class:!0}),d(l).forEach(u),s=f(c),b=r(c,"BUTTON",{title:!0,class:!0}),d(b).forEach(u),$=f(c),E=r(c,"BUTTON",{title:!0,class:!0}),d(E).forEach(u),I=f(c),x=r(c,"BUTTON",{class:!0,title:!0});var m=d(x);T=r(m,"LABEL",{for:!0,class:!0}),d(T).forEach(u),S=f(m),A=r(m,"LABEL",{for:!0,class:!0}),d(A).forEach(u),N=f(m),O=r(m,"LABEL",{for:!0,class:!0}),d(O).forEach(u),m.forEach(u),P=f(c),j=r(c,"BUTTON",{title:!0,class:!0}),d(j).forEach(u),R=f(c),U=r(c,"BUTTON",{title:!0,class:!0}),d(U).forEach(u),c.forEach(u),i.forEach(u),this.h()},h(){m(n,"title","share"),m(n,"class","bi-share-fill svelte-138yyyx"),m(l,"title","pop out window"),m(l,"class","bi-box-arrow-up-right svelte-138yyyx"),m(b,"title","clear cache & reload"),m(b,"class","bi-arrow-clockwise svelte-138yyyx"),m(E,"title","download source code as ZIP"),m(E,"class","bi-file-earmark-zip-fill svelte-138yyyx"),m(T,"for","theme-1"),m(T,"class","bi-moon-fill svelte-138yyyx"),m(A,"for","theme-2"),m(A,"class","bi-moon svelte-138yyyx"),m(O,"for","theme-0"),m(O,"class","bi-sun-fill svelte-138yyyx"),m(x,"class","theme-toggle-labels svelte-138yyyx"),m(x,"title","toggle light theme"),m(j,"title","switch fullscreen mode"),m(j,"class",L="bi-"+(e[1]?"fullscreen-exit":"fullscreen")+" svelte-138yyyx"),m(U,"title",B=e[0]?"install PWA (Progressive Web App)":"download website to work offline"),m(U,"class",_="bi-"+(e[0]?"app-indicator":"download")+" svelte-138yyyx"),m(a,"class","buttons svelte-138yyyx"),m(t,"class","svelte-138yyyx")},m(i,c){h(i,t,c),w(t,a),w(a,n),w(a,o),w(a,l),w(a,s),w(a,b),w(a,$),w(a,E),w(a,I),w(a,x),w(x,T),w(x,S),w(x,A),w(x,N),w(x,O),w(a,P),w(a,j),w(a,R),w(a,U),M=!0,W||(q=[p(n,"click",e[2]),p(l,"click",e[3]),p(b,"click",D.clearCacheAndReload),p(E,"click",F),p(x,"click",J.store),p(j,"click",e[4]),p(U,"click",D.installAppOrDownload)],W=!0)},p(e,[t]){(!M||2&t&&L!==(L="bi-"+(e[1]?"fullscreen-exit":"fullscreen")+" svelte-138yyyx"))&&m(j,"class",L),(!M||1&t&&B!==(B=e[0]?"install PWA (Progressive Web App)":"download website to work offline"))&&m(U,"title",B),(!M||1&t&&_!==(_="bi-"+(e[0]?"app-indicator":"download")+" svelte-138yyyx"))&&m(U,"class",_)},i(e){M||(y((()=>{C||(C=v(U,k,{},!0)),C.run(1)})),M=!0)},o(e){C||(C=v(U,k,{},!1)),C.run(0),M=!1},d(e){e&&u(t),e&&C&&C.end(),W=!1,g(q)}}}function V(e,t,a){var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};let o=!1,l=!1;b((()=>n(void 0,void 0,void 0,(function*(){window.addEventListener("message",(({data:e})=>{"installedStatusChange"===e.msg&&a(0,o=!e.isInstalled)}));const e=window.matchMedia("(display-mode: fullscreen)");a(1,l=e.matches),e.onchange=e=>{a(1,l=e.matches)}}))));return[o,l,()=>{var e;null==(e=navigator.share)||e.call(navigator,{url:location.href,title:document.title,text:document.title})},async()=>{window.open(location.href,"_blank","location=yes")},async()=>{var e,t,n;l?document.fullscreenElement&&(a(1,l=!1),await(null==(n=document.exitFullscreen)?void 0:n.call(document))):(a(1,l=!0),await(null==(t=(e=document.documentElement).requestFullscreen)?void 0:t.call(e)))}]}class G extends o{constructor(e){super(),l(this,e,V,Z,s,{})}}class H extends o{constructor(e){super(),l(this,e,null,null,s,{})}}function K(e){let t,a,n,o,l,s,p,y,v,g,b,k,U,B,_,F,C,J,M,W,q,z=e[0].version+"";g=new H({}),k=new G({});const D=e[2].default,Z=$(D,e,e[1],null);return{c(){t=E(),a=c(),n=i("input"),o=c(),l=i("input"),s=c(),p=i("input"),y=c(),v=i("section"),I(g.$$.fragment),b=c(),I(k.$$.fragment),U=c(),B=i("main"),Z&&Z.c(),_=c(),F=i("footer"),C=x("©\r\n\t\t\r\n\t\t2021 Benjamin Aster\r\n\t\t\r\n\t\t•\r\n\t\t"),J=i("span"),M=x("v"),W=x(z),this.h()},l(e){const i=T('[data-svelte="svelte-1yh2n6v"]',document.head);t=E(),i.forEach(u),a=f(e),n=r(e,"INPUT",{type:!0,name:!0,id:!0}),o=f(e),l=r(e,"INPUT",{type:!0,name:!0,id:!0}),s=f(e),p=r(e,"INPUT",{type:!0,name:!0,id:!0}),y=f(e),v=r(e,"SECTION",{id:!0,class:!0});var c=d(v);S(g.$$.fragment,c),b=f(c),S(k.$$.fragment,c),U=f(c),B=r(c,"MAIN",{class:!0});var m=d(B);Z&&Z.l(m),m.forEach(u),_=f(c),F=r(c,"FOOTER",{class:!0});var h=d(F);C=A(h,"©\r\n\t\t\r\n\t\t2021 Benjamin Aster\r\n\t\t\r\n\t\t•\r\n\t\t"),J=r(h,"SPAN",{class:!0});var w=d(J);M=A(w,"v"),W=A(w,z),w.forEach(u),h.forEach(u),c.forEach(u),this.h()},h(){document.title="Translate",m(n,"type","radio"),m(n,"name","theme-toggle"),m(n,"id","theme-0"),n.hidden=!0,m(l,"type","radio"),m(l,"name","theme-toggle"),m(l,"id","theme-1"),l.hidden=!0,l.checked=!0,m(p,"type","radio"),m(p,"name","theme-toggle"),m(p,"id","theme-2"),p.hidden=!0,m(B,"class","svelte-9kk9n9"),m(J,"class","version svelte-9kk9n9"),m(F,"class","svelte-9kk9n9"),m(v,"id","actual-content"),m(v,"class","svelte-9kk9n9")},m(e,i){w(document.head,t),h(e,a,i),h(e,n,i),h(e,o,i),h(e,l,i),h(e,s,i),h(e,p,i),h(e,y,i),h(e,v,i),N(g,v,null),w(v,b),N(k,v,null),w(v,U),w(v,B),Z&&Z.m(B,null),w(v,_),w(v,F),w(F,C),w(F,J),w(J,M),w(J,W),q=!0},p(e,[t]){Z&&Z.p&&(!q||2&t)&&O(Z,D,e,e[1],q?t:-1,null,null),(!q||1&t)&&z!==(z=e[0].version+"")&&P(W,z)},i(e){q||(j(false),j(g.$$.fragment,e),j(k.$$.fragment,e),j(Z,e),q=!0)},o(e){L(false),L(g.$$.fragment,e),L(k.$$.fragment,e),L(Z,e),q=!1},d(e){u(t),e&&u(a),e&&u(n),e&&u(o),e&&u(l),e&&u(s),e&&u(p),e&&u(y),e&&u(v),R(g),R(k),Z&&Z.d(e)}}}var Q=function(e,t,a,n){return new(a||(a=Promise))((function(o,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};function X({page:e,fetch:t,session:a,context:n}){return Q(this,void 0,void 0,(function*(){return{props:{renderInfo:yield(yield t("./_/info.json")).json()}}}))}function Y(e,t,a){let{$$slots:n={},$$scope:o}=t;var l=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};let{renderInfo:s}=t;return b((()=>l(void 0,void 0,void 0,(function*(){yield async function(){await D.preparePwa(),J.setInitial(),M.init()}()})))),e.$$set=e=>{"renderInfo"in e&&a(0,s=e.renderInfo),"$$scope"in e&&a(1,o=e.$$scope)},[s,o,n]}export default class extends o{constructor(e){super(),l(this,e,Y,K,s,{renderInfo:0})}}export{X as load};
//# sourceMappingURL=__layout.svelte-f3e6f8cb.js.map
