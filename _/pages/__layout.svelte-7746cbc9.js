import{D as e,E as t,F as a,G as n,S as o,i as s,s as l,e as r,k as i,c,a as d,d as u,n as f,b as h,f as m,H as w,I as y,J as p,K as v,L as g,A as b,M as T,N as $,l as k,j as E,t as I,O as S,m as x,g as A,P as N,o as O,Q as P,h as L,x as R,u as j,v as B}from"../chunks/vendor-77db0df1.js";import{b as F}from"../chunks/paths-45dac81d.js";function U(e){var t;const a=(()=>{switch(e){case 0:return"black";case 1:return"dark";case 2:return"light"}})();for(const s of["bg","fg","hover","active"])document.documentElement.style.setProperty(`--scrollbar-${s}`,` var(--scrollbar-${s}-${a})`);const n=document.querySelector("meta[name=color-scheme]");n&&(n.content="light"===a?"light":"dark");const o=document.querySelector("meta[name=theme-color]");o&&(o.content=null==(t=window.getComputedStyle(document.querySelector("#actual-content")))?void 0:t.getPropertyValue("--col-08"))}const _={store(){window.setTimeout((()=>{var e,t,a;const n=+(null==(a=null==(t=null==(e=document.querySelector("input[type=radio][name=theme-toggle]:checked"))?void 0:e.id)?void 0:t.match(/\d/))?void 0:a[0]);localStorage.setItem("colorTheme",JSON.stringify(n)),U(n)}))},setInitial(){var e,t;const a=null!=(e=JSON.parse(localStorage.getItem("colorTheme")))?e:1;null==(t=document.querySelector(`input[type=radio][name=theme-toggle]#theme-${a}`))||t.click(),U(a),function e(t){t<=0?document.body.classList.remove("no-transition"):window.requestAnimationFrame((()=>e(t-1)))}(5)}},M=new class{constructor(){this.ref=e,this.onValue=t}async init(){this.app=a(await(await window.fetch("/__/firebase/init.json")).json()),this.database=n(this.app)}};let q;function C(e){window.postMessage({msg:"installedStatusChange",isInstalled:e})}function J(){function e(){return"complete"===document.readyState&&(window.setTimeout((()=>location.reload()),100),!0)}e()||document.addEventListener("readystatechange",(()=>{e()}))}const W={async clearCacheAndReload(){var e,t,a,n;try{await(null==(n=null==(a=await(null==(t=null==(e=navigator.serviceWorker)?void 0:e.getRegistration)?void 0:t.call(e)))?void 0:a.unregister)?void 0:n.call(a))}catch{}await fetch(`/clear-site-data/?random=${Math.floor(1e10*Math.random())}`);for await(let o of await window.caches.keys())await window.caches.delete(o);localStorage.setItem("afterReload","reloadAgain"),J()},async installAppOrDownload(){(null==q?void 0:q.prompt)?q.prompt():(window.localStorage.setItem("afterReload","downloadFiles"),window.setTimeout((()=>location.reload())))},async preparePwa(){switch(localStorage.getItem("afterReload")){case"downloadFiles":localStorage.removeItem("afterReload"),await async function(){const e=await(async()=>{let e=await(await window.fetch("./_/filestocache.json")).json();return e=e.map((e=>new URL(e,`${location.origin}${F}/`).href)),e})(),t=await(async()=>{let e=[];for await(const t of await window.caches.keys())e=[...e,...(await(await window.caches.open(t)).keys()).map((({url:e})=>e))];return e})(),a=e.filter((e=>!t.includes(e))).map((e=>window.fetch(e)));await Promise.all(a)}();break;case"reloadAgain":JSON.parse(localStorage.getItem("isInstalled"))?localStorage.setItem("afterReload","downloadFiles"):localStorage.setItem("afterReload","reloadThirdTime"),J();break;case"reloadThirdTime":localStorage.removeItem("afterReload"),J()}window.addEventListener("beforeinstallprompt",(async e=>{e.preventDefault(),C(!1),localStorage.removeItem("isInstalled"),q=e})),window.addEventListener("appinstalled",(async e=>{C(!0),window.localStorage.setItem("afterReload","downloadFiles"),localStorage.setItem("isInstalled",JSON.stringify(!0)),window.setTimeout((()=>location.reload()))}))}};function D(e){let t,a,n,o,s,l,b,$,k,E,I,S,x,A,N,O,P,L,R,j,B,F,U;return{c(){t=r("nav"),a=r("section"),n=r("button"),o=i(),s=r("button"),l=i(),b=r("button"),$=r("label"),k=i(),E=r("label"),I=i(),S=r("label"),x=i(),A=r("button"),O=i(),P=r("button"),this.h()},l(e){t=c(e,"NAV",{class:!0});var r=d(t);a=c(r,"SECTION",{class:!0});var i=d(a);n=c(i,"BUTTON",{title:!0,class:!0}),d(n).forEach(u),o=f(i),s=c(i,"BUTTON",{title:!0,class:!0}),d(s).forEach(u),l=f(i),b=c(i,"BUTTON",{class:!0,title:!0});var h=d(b);$=c(h,"LABEL",{for:!0,class:!0}),d($).forEach(u),k=f(h),E=c(h,"LABEL",{for:!0,class:!0}),d(E).forEach(u),I=f(h),S=c(h,"LABEL",{for:!0,class:!0}),d(S).forEach(u),h.forEach(u),x=f(i),A=c(i,"BUTTON",{title:!0,class:!0}),d(A).forEach(u),O=f(i),P=c(i,"BUTTON",{title:!0,class:!0}),d(P).forEach(u),i.forEach(u),r.forEach(u),this.h()},h(){h(n,"title","pop out window"),h(n,"class","bi-box-arrow-up-right svelte-138yyyx"),h(s,"title","clear cache & reload"),h(s,"class","bi-arrow-clockwise svelte-138yyyx"),h($,"for","theme-1"),h($,"class","bi-moon-fill svelte-138yyyx"),h(E,"for","theme-2"),h(E,"class","bi-moon svelte-138yyyx"),h(S,"for","theme-0"),h(S,"class","bi-sun-fill svelte-138yyyx"),h(b,"class","theme-toggle-labels svelte-138yyyx"),h(b,"title","toggle light theme"),h(A,"title","switch fullscreen mode"),h(A,"class",N="bi-"+(e[1]?"fullscreen-exit":"fullscreen")+" svelte-138yyyx"),h(P,"title",L=e[0]?"install PWA (Progressive Web App)":"download website to work offline"),h(P,"class",R="bi-"+(e[0]?"app-indicator":"download")+" svelte-138yyyx"),h(a,"class","buttons svelte-138yyyx"),h(t,"class","svelte-138yyyx")},m(r,i){m(r,t,i),w(t,a),w(a,n),w(a,o),w(a,s),w(a,l),w(a,b),w(b,$),w(b,k),w(b,E),w(b,I),w(b,S),w(a,x),w(a,A),w(a,O),w(a,P),B=!0,F||(U=[y(n,"click",e[2]),y(s,"click",W.clearCacheAndReload),y(b,"click",_.store),y(A,"click",e[3]),y(P,"click",W.installAppOrDownload)],F=!0)},p(e,[t]){(!B||2&t&&N!==(N="bi-"+(e[1]?"fullscreen-exit":"fullscreen")+" svelte-138yyyx"))&&h(A,"class",N),(!B||1&t&&L!==(L=e[0]?"install PWA (Progressive Web App)":"download website to work offline"))&&h(P,"title",L),(!B||1&t&&R!==(R="bi-"+(e[0]?"app-indicator":"download")+" svelte-138yyyx"))&&h(P,"class",R)},i(e){B||(p((()=>{j||(j=v(P,T,{},!0)),j.run(1)})),B=!0)},o(e){j||(j=v(P,T,{},!1)),j.run(0),B=!1},d(e){e&&u(t),e&&j&&j.end(),F=!1,g(U)}}}function V(e,t,a){var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,s){function l(e){try{i(n.next(e))}catch(t){s(t)}}function r(e){try{i(n.throw(e))}catch(t){s(t)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,r)}i((n=n.apply(e,t||[])).next())}))};let o=!1,s=!1;b((()=>n(void 0,void 0,void 0,(function*(){window.addEventListener("message",(({data:e})=>{"installedStatusChange"===e.msg&&a(0,o=!e.isInstalled)}));const e=window.matchMedia("(display-mode: fullscreen)");a(1,s=e.matches),e.onchange=e=>{a(1,s=e.matches)}}))));return[o,s,async()=>{window.open(location.href,"_blank","location=yes")},async()=>{var e,t,n;s?document.fullscreenElement&&(a(1,s=!1),await(null==(n=document.exitFullscreen)?void 0:n.call(document))):(a(1,s=!0),await(null==(t=(e=document.documentElement).requestFullscreen)?void 0:t.call(e)))}]}class G extends o{constructor(e){super(),s(this,e,V,D,l,{})}}class H extends o{constructor(e){super(),s(this,e,null,null,l,{})}}function K(e){let t,a,n,o,s,l,y,p,v,g,b,T,F,U,_,M,q,C,J,W,D,V,K,Q,z,X,Y,Z,ee,te,ae,ne=e[0].version+"";g=new H({}),T=new G({});const oe=e[2].default,se=$(oe,e,e[1],null);return{c(){t=k(),a=i(),n=r("input"),o=i(),s=r("input"),l=i(),y=r("input"),p=i(),v=r("section"),E(g.$$.fragment),b=i(),E(T.$$.fragment),F=i(),U=r("main"),se&&se.c(),_=i(),M=r("footer"),q=I("Made with\r\n\t\t"),C=r("span"),J=I("❤"),W=I("\r\n\t\tby Benjamin Aster •\r\n\t\t"),D=r("span"),V=I("v"),K=I(ne),Q=I("\r\n\t\t• Translation engine:\r\n\t\t"),z=r("a"),X=I("LibreTranslate"),Y=I("\r\n\t\t("),Z=r("a"),ee=I("public instance by ArgosOpenTech"),te=I(")"),this.h()},l(e){const r=S('[data-svelte="svelte-1yh2n6v"]',document.head);t=k(),r.forEach(u),a=f(e),n=c(e,"INPUT",{type:!0,name:!0,id:!0}),o=f(e),s=c(e,"INPUT",{type:!0,name:!0,id:!0}),l=f(e),y=c(e,"INPUT",{type:!0,name:!0,id:!0}),p=f(e),v=c(e,"SECTION",{id:!0,class:!0});var i=d(v);x(g.$$.fragment,i),b=f(i),x(T.$$.fragment,i),F=f(i),U=c(i,"MAIN",{class:!0});var h=d(U);se&&se.l(h),h.forEach(u),_=f(i),M=c(i,"FOOTER",{class:!0});var m=d(M);q=A(m,"Made with\r\n\t\t"),C=c(m,"SPAN",{style:!0});var w=d(C);J=A(w,"❤"),w.forEach(u),W=A(m,"\r\n\t\tby Benjamin Aster •\r\n\t\t"),D=c(m,"SPAN",{class:!0});var $=d(D);V=A($,"v"),K=A($,ne),$.forEach(u),Q=A(m,"\r\n\t\t• Translation engine:\r\n\t\t"),z=c(m,"A",{href:!0});var E=d(z);X=A(E,"LibreTranslate"),E.forEach(u),Y=A(m,"\r\n\t\t("),Z=c(m,"A",{href:!0});var I=d(Z);ee=A(I,"public instance by ArgosOpenTech"),I.forEach(u),te=A(m,")"),m.forEach(u),i.forEach(u),this.h()},h(){document.title="Translate",h(n,"type","radio"),h(n,"name","theme-toggle"),h(n,"id","theme-0"),n.hidden=!0,h(s,"type","radio"),h(s,"name","theme-toggle"),h(s,"id","theme-1"),s.hidden=!0,s.checked=!0,h(y,"type","radio"),h(y,"name","theme-toggle"),h(y,"id","theme-2"),y.hidden=!0,h(U,"class","svelte-9kk9n9"),N(C,"color","red"),h(D,"class","version svelte-9kk9n9"),h(z,"href","https://libretranslate.com"),h(Z,"href","https://translate.argosopentech.com"),h(M,"class","svelte-9kk9n9"),h(v,"id","actual-content"),h(v,"class","svelte-9kk9n9")},m(e,r){w(document.head,t),m(e,a,r),m(e,n,r),m(e,o,r),m(e,s,r),m(e,l,r),m(e,y,r),m(e,p,r),m(e,v,r),O(g,v,null),w(v,b),O(T,v,null),w(v,F),w(v,U),se&&se.m(U,null),w(v,_),w(v,M),w(M,q),w(M,C),w(C,J),w(M,W),w(M,D),w(D,V),w(D,K),w(M,Q),w(M,z),w(z,X),w(M,Y),w(M,Z),w(Z,ee),w(M,te),ae=!0},p(e,[t]){se&&se.p&&(!ae||2&t)&&P(se,oe,e,e[1],ae?t:-1,null,null),(!ae||1&t)&&ne!==(ne=e[0].version+"")&&L(K,ne)},i(e){ae||(R(false),R(g.$$.fragment,e),R(T.$$.fragment,e),R(se,e),ae=!0)},o(e){j(false),j(g.$$.fragment,e),j(T.$$.fragment,e),j(se,e),ae=!1},d(e){u(t),e&&u(a),e&&u(n),e&&u(o),e&&u(s),e&&u(l),e&&u(y),e&&u(p),e&&u(v),B(g),B(T),se&&se.d(e)}}}var Q=function(e,t,a,n){return new(a||(a=Promise))((function(o,s){function l(e){try{i(n.next(e))}catch(t){s(t)}}function r(e){try{i(n.throw(e))}catch(t){s(t)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,r)}i((n=n.apply(e,t||[])).next())}))};function z({page:e,fetch:t,session:a,context:n}){return Q(this,void 0,void 0,(function*(){return{props:{renderInfo:yield(yield t("./_/info.json")).json()}}}))}function X(e,t,a){let{$$slots:n={},$$scope:o}=t;var s=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,s){function l(e){try{i(n.next(e))}catch(t){s(t)}}function r(e){try{i(n.throw(e))}catch(t){s(t)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,r)}i((n=n.apply(e,t||[])).next())}))};let{renderInfo:l}=t;return b((()=>s(void 0,void 0,void 0,(function*(){yield async function(){await W.preparePwa(),_.setInitial(),M.init()}()})))),e.$$set=e=>{"renderInfo"in e&&a(0,l=e.renderInfo),"$$scope"in e&&a(1,o=e.$$scope)},[l,o,n]}export default class extends o{constructor(e){super(),s(this,e,X,K,l,{renderInfo:0})}}export{z as load};
//# sourceMappingURL=__layout.svelte-7746cbc9.js.map
